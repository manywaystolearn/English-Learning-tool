
  <!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Multi-Image Text Extractor</title>
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.1.1/dist/tesseract.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
    }
    .container {
      background-color: #f5f5f5;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .drop-zone {
      border: 2px dashed #3498db;
      border-radius: 4px;
      padding: 25px;
      text-align: center;
      margin: 20px 0;
      cursor: pointer;
      background-color: #f8f9fa;
    }
    .drop-zone.highlight {
      background-color: #e9f5fe;
      border-color: #3498db;
    }
    #result {
      margin-top: 20px;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 4px;
      min-height: 100px;
      background-color: white;
      white-space: pre-wrap;
    }
    button {
      background-color: #3498db;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
    }
    .progress {
      margin: 10px 0;
      height: 20px;
      background-color: #f0f0f0;
      border-radius: 4px;
      overflow: hidden;
      display: none;
    }
    .progress-bar {
      height: 100%;
      width: 0%;
      background-color: #2ecc71;
      text-align: center;
      line-height: 20px;
      color: white;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Multi-Image Text Extractor</h1>
    <p>Select or drag multiple images to extract English text</p><div id="dropZone" class="drop-zone">
  <p>Drag & drop image files here, or click to select</p>
  <input type="file" id="fileInput" accept="image/*" multiple style="display: none;">
</div>

<div class="progress" id="progressContainer">
  <div class="progress-bar" id="progressBar">0%</div>
</div>

<button id="extractBtn" disabled>Extract Text</button>
<button id="copyBtn" style="display: none;">Copy to Clipboard</button>
<button id="clearBtn" style="display: none;">Clear</button>

<h3>Extracted Text:</h3>
<div id="result">Extracted text will appear here...</div>

  </div>  <script>
    const dropZone = document.getElementById('dropZone');
    const fileInput = document.getElementById('fileInput');
    const extractBtn = document.getElementById('extractBtn');
    const copyBtn = document.getElementById('copyBtn');
    const clearBtn = document.getElementById('clearBtn');
    const resultDiv = document.getElementById('result');
    const progressContainer = document.getElementById('progressContainer');
    const progressBar = document.getElementById('progressBar');

    let selectedFiles = [];

    dropZone.addEventListener('click', () => fileInput.click());
    fileInput.addEventListener('change', () => handleFiles(fileInput.files));

    dropZone.addEventListener('dragover', (e) => {
      e.preventDefault();
      dropZone.classList.add('highlight');
    });

    dropZone.addEventListener('dragleave', () => dropZone.classList.remove('highlight'));
    dropZone.addEventListener('drop', (e) => {
      e.preventDefault();
      dropZone.classList.remove('highlight');
      handleFiles(e.dataTransfer.files);
    });

    function handleFiles(files) {
      selectedFiles = Array.from(files).filter(file => file.type.startsWith('image/'));
      if (selectedFiles.length > 0) {
        extractBtn.disabled = false;
        resultDiv.textContent = `${selectedFiles.length} image(s) ready for extraction`;
      } else {
        extractBtn.disabled = true;
        resultDiv.textContent = 'No valid images selected';
      }
    }

    extractBtn.addEventListener('click', async () => {
      resultDiv.textContent = '';
      progressBar.style.width = '0%';
      progressBar.textContent = '0%';
      progressContainer.style.display = 'block';
      extractBtn.disabled = true;
      let allText = '';

      for (let i = 0; i < selectedFiles.length; i++) {
        const file = selectedFiles[i];
        resultDiv.textContent = `Processing Page ${i+1} of ${selectedFiles.length}...`;
        try {
          const { data: { text } } = await Tesseract.recognize(
            file,
            'eng',
            {
              logger: m => {
                if (m.status === 'recognizing text') {
                  const progress = Math.round(m.progress * 100);
                  progressBar.style.width = `${progress}%`;
                  progressBar.textContent = `${progress}%`;
                }
              }
            }
          );
          allText += `--- Page ${i + 1} ---\n${text.trim()}\n\n`;
        } catch (err) {
          allText += `--- Error processing Page ${i + 1}: ${err.message} ---\n\n`;
        }
      }

      resultDiv.textContent = allText.trim() || 'âŒ No text was detected in the selected images.';
      copyBtn.style.display = 'inline-block';
      clearBtn.style.display = 'inline-block';
      progressContainer.style.display = 'none';
      extractBtn.disabled = false;
    });

    copyBtn.addEventListener('click', () => {
      const text = resultDiv.innerText;
      if (navigator.clipboard) {
        navigator.clipboard.writeText(text).then(() => {
          copyBtn.textContent = 'Copied!';
          setTimeout(() => copyBtn.textContent = 'Copy to Clipboard', 2000);
        }).catch(() => fallbackCopy(text));
      } else {
        fallbackCopy(text);
      }
    });

    function fallbackCopy(text) {
      const tempInput = document.createElement('textarea');
      tempInput.value = text;
      document.body.appendChild(tempInput);
      tempInput.select();
      try {
        document.execCommand('copy');
        copyBtn.textContent = 'Copied!';
        setTimeout(() => copyBtn.textContent = 'Copy to Clipboard', 2000);
      } catch (err) {
        alert('Failed to copy');
      }
      document.body.removeChild(tempInput);
    }

    clearBtn.addEventListener('click', () => {
      selectedFiles = [];
      fileInput.value = '';
      resultDiv.textContent = 'Extracted text will appear here...';
      copyBtn.style.display = 'none';
      clearBtn.style.display = 'none';
      extractBtn.disabled = true;
    });
  </script></body>
</html>